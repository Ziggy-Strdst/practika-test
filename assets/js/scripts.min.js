'use strict';
function _createForOfIteratorHelper(e, t) {
  var n =
    ('undefined' != typeof Symbol && e[Symbol.iterator]) || e['@@iterator'];
  if (!n) {
    if (
      Array.isArray(e) ||
      (n = _unsupportedIterableToArray(e)) ||
      (t && e && 'number' == typeof e.length)
    ) {
      n && (e = n);
      var o = 0,
        r = function () {};
      return {
        s: r,
        n: function () {
          return o >= e.length ? { done: !0 } : { done: !1, value: e[o++] };
        },
        e: function (e) {
          throw e;
        },
        f: r,
      };
    }
    throw new TypeError(
      'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
    );
  }
  var i,
    a = !0,
    s = !1;
  return {
    s: function () {
      n = n.call(e);
    },
    n: function () {
      var e = n.next();
      return (a = e.done), e;
    },
    e: function (e) {
      (s = !0), (i = e);
    },
    f: function () {
      try {
        a || null == n.return || n.return();
      } finally {
        if (s) throw i;
      }
    },
  };
}
function _unsupportedIterableToArray(e, t) {
  if (e) {
    if ('string' == typeof e) return _arrayLikeToArray(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    return (
      'Object' === n && e.constructor && (n = e.constructor.name),
      'Map' === n || 'Set' === n
        ? Array.from(e)
        : 'Arguments' === n ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
        ? _arrayLikeToArray(e, t)
        : void 0
    );
  }
}
function _arrayLikeToArray(e, t) {
  (null == t || t > e.length) && (t = e.length);
  for (var n = 0, o = new Array(t); n < t; n++) o[n] = e[n];
  return o;
}
function numCounter(e, t, n, o) {
  var r = document.querySelector(e),
    i = 0,
    a = Math.round(n / (t / o)),
    s = setInterval(function () {
      (i += o), i === t && clearInterval(s), (r.innerHTML = i + '%');
    }, a);
}
function handler(e, t) {
  numCounter('#counter1', 93, 3e3, 1), numCounter('#counter2', 90, 3e3, 1);
}
$(function () {
  $('input[name="f_phone"]').mask('+7 (999) 999-99-99');
  var e,
    t = document.querySelectorAll('.nav__link'),
    n = _createForOfIteratorHelper(t);
  try {
    var o = function () {
      var t = e.value;
      t.addEventListener('click', function (e) {
        e.preventDefault();
        var n = t.getAttribute('href');
        document
          .querySelector(n)
          .scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    };
    for (n.s(); !(e = n.n()).done; ) o();
  } catch (e) {
    n.e(e);
  } finally {
    n.f();
  }
  var r,
    i = document.querySelectorAll('.footer__nav-link'),
    a = _createForOfIteratorHelper(i);
  try {
    var s = function () {
      var e = r.value;
      e.addEventListener('click', function (t) {
        t.preventDefault();
        var n = e.getAttribute('href');
        document
          .querySelector(n)
          .scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    };
    for (a.s(); !(r = a.n()).done; ) s();
  } catch (e) {
    a.e(e);
  } finally {
    a.f();
  }
  var l,
    c = document.querySelectorAll('.mobile__nav-link'),
    u = _createForOfIteratorHelper(c);
  try {
    var d = function () {
      var e = l.value;
      e.addEventListener('click', function (t) {
        t.preventDefault();
        var n = e.getAttribute('href');
        document
          .querySelector(n)
          .scrollIntoView({ behavior: 'smooth', block: 'start' }),
          $('.mobile__menu').removeClass('is-active');
      });
    };
    for (u.s(); !(l = u.n()).done; ) d();
  } catch (e) {
    u.e(e);
  } finally {
    u.f();
  }
  $('.card').click(function (e) {
    var t = $(this).find('.card__name').text();
    $('#modalCorses .modal__name').text(t);
  }),
    $(window).width() <= 768 &&
      $(window).scroll(function () {
        var e = $('header');
        $(window).scrollTop() >= 50
          ? e.addClass('fixed__header').fadeIn()
          : e.removeClass('fixed__header').fadeIn();
      }),
    $('.hero .hero__wrapper button').on('click', function () {
      // MAIN BUTTON ----------------------------------
      // $(window).width() <= 768
      //   ? $('html,body').animate(
      //       { scrollTop: $('#courses').offset().top - 180 },
      //       { duration: 1e3 }
      //     )
      //   : // ---------------------------------
      $('html,body').animate(
        { scrollTop: $('#courses').offset().top },
        { duration: 1e3 }
      );
    });
}),
  document.body
    .querySelector('.header__button')
    .addEventListener('click', function () {
      this.classList.toggle('is-active'),
        document.body.querySelector('.mobile__menu').classList.add('is-active');
    }),
  document.body
    .querySelector('.mobile__close')
    .addEventListener('click', function () {
      this.classList.toggle('is-active'),
        document.body
          .querySelector('.mobile__menu')
          .classList.remove('is-active');
    }),
  jQuery('.fancybox').fancybox({
    padding: 0,
    helpers: { overlay: { locked: !1 } },
  });
var observer = new IntersectionObserver(handler);
observer.observe(document.getElementById('counters')),
  $('.popup-with-form').magnificPopup({ type: 'inline' }),
  $('#close__modal').on('click', function () {
    $.magnificPopup.close();
  }),
  $('.card').magnificPopup({
    type: 'inline',
    closeOnBgClick: !1,
    fixedContentPos: !1,
    callbacks: {
      open: function () {
        jQuery('body').addClass('visible'),
          $(document).bind('touchmove', function (e) {
            e.preventDefault();
          });
      },
      close: function () {
        jQuery('body').removeClass('visible');
      },
    },
  });

//
